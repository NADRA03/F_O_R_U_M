<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
@import url(https://fonts.googleapis.com/css?family=Righteous);

*, *:before, *:after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  position: relative;
  }

html, body {
  height: 100%;
  }
  body {
    background-color: rgb(34,34,34);
    }
  body:before {
    content: '';
    display: inline-block;
    vertical-align: middle;
    font-size: 0;
    }

h1 {
  margin-left: 35%;
  display: inline-block;
  color: white;
  font-family: 'Righteous', serif;
  font-size: 7em; 
  text-shadow: .03em .03em 0 rgb(34,34,34);
  }
  h1:after {
    content: attr(data-shadow);
    position: absolute;
    top: .06em; left: .06em;
    z-index: -1;
    text-shadow: none;
    background-image:
      linear-gradient(
        45deg,
        transparent 45%,
        white 45%,
        white 55%,
        transparent 0
        );
    background-size: .05em .05em;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  
    animation: shad-anim 15s linear infinite;
    }

@keyframes shad-anim {
  0% {background-position: 0 0}
  0% {background-position: 100% -100%}
  }

        .container {
            font-family: "Raleway", sans-serif;
            position: relative;
            width: 80%;
            font-size: 20px;
            margin: 0 auto;
            padding: 20px;
            z-index: 1; /* Ensures the content stays above the canvas */
        }
        .post {
            margin: 20px 0;
            padding: 20px;
            border-width: 2px;
            border-radius: 20px;
            background-color: rgba(0, 0, 0, 0.2);
            color: rgb(255, 255, 255);
        }
        .post h2 {
            font-family: 'Righteous', serif;
            margin: 0 0 10px 0;
            font-size: 2em;
            color: #5b209a;
        }
        .post p {
            font-weight: lighter;
            margin: 5px 0;
            font-size: 1em;
        }
        .post .date {
            font-size: 0.9em;
            color: #6c757d;
        }
        .post .icons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        .post .icons a {
            text-decoration: none;
            color: #007bff;
            cursor: pointer;
        }
        .post .icons a:hover {
            color: #0056b3;
        }
        #postForm {
            font-family: 'Righteous', serif;
            font-size: 20px;
            padding: 20px;
            border-width: 2px;
            background-color: rgba(91,32,154,0.7);
            color: rgb(255, 255, 255);
            display: none; /* Hide the form by default */
            bottom: 0px;
            right: 20%; 
            margin-right: 150px;
            position: fixed;
            width: 40%;
        }
        form label {
            display: block;
            margin: 10px 0 5px;
        }
        form textarea, form input[type="text"] {
           width: 100%;
           color: white;
           font-size: 20px;
           padding: 8px;
           height: auto;
           background-color: rgba(0, 0, 0, 0.2);
           box-sizing: border-box;
           outline: none; /* Remove outline */
           border: none;  /* Remove border */
           resize: none;  /* Prevent resizing */
           box-shadow: none; /* Remove box shadow */
        }
        form textarea:focus, form input[type="text"]:focus {
            outline: none; /* No outline on focus */
            border: none;  /* No border on focus */
            box-shadow: none; /* No shadow on focus */
        }
        form button {
            margin-top: 10px;
            padding: 10px 20px;
            border: none;
            font-family: 'Righteous', serif;
            background-color: transparent;
            color: rgba(0, 0, 0, 0.2);
            font-size: 50px;
            font-weight: bold;
            cursor: pointer;
            margin-left: 28%;
        }
        form button:hover {
            color: white;
        }
        .status-message {
            margin: 20px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .status-message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .toggle-button {
            display: inline-block;
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 2;
            background-color: transparent; /* Ensures SVG is visible */
            border: none;
            cursor: pointer;
        }

        .toggle-button svg {
            width: 170px; /* Adjust as needed */
            height: 170px; /* Adjust as needed */
            fill: #5b209a; /* Ensure fill color is visible */
        }

form select {
    width: 100%;
    padding: 8px;
    border-radius: 0%;
    background-color: rgba(0, 0, 0, 0.2);
    box-sizing: border-box;
    outline: none;
    border: none;
    font-size: 20px;
    box-shadow: none;
    color: rgb(255, 255, 255); 
}

form select:focus {
    outline: none;
    box-shadow: none;
}

form select option {
    background-color: rgba(0, 0, 0, 0.2); /* Background color of dropdown items */
    color: white; /* Text color */
    padding: 8px; /* Padding inside options */
    border-radius: 0%;
}
    </style>
</head>
<body>





    <!-- <canvas></canvas> -->

    <div class="container">
        <h1 data-shadow='Buzzer'>Buzzer</h1>
        {{if .StatusMessage}}
        <div class="status-message success">
            {{if eq .StatusMessage "success"}}Post added successfully!{{end}}
        </div>
        {{end}}

        {{if .Posts}}
        {{range .Posts}}
        <div class="post">
            <h2>#{{.Category}}</h2>
            <p class="date">{{.Date}}</p>
            <p>{{.Text}}</p>
            <div class="icons">
                <a href="/like?post_id={{.PostID}}"><svg viewBox="0 0 24 24" fill="none" width="50" height="50" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M4 9.40652C3.44772 9.40652 3 9.85424 3 10.4065V18.4065C3 20.0634 4.34315 21.4065 6 21.4065H9V9.40652H4Z" fill="rgba(0, 0, 0, 0.2)" data-darkreader-inline-fill="" style="--darkreader-inline-fill: rgba(0, 0, 0, 0.2);"></path> <path d="M14.3059 4.16184C13.9067 2.9643 12.3868 2.60551 11.4942 3.4981L7.87868 7.11364C7.31607 7.67624 7 8.43931 7 9.23495V20.4065C7 20.9588 7.44772 21.4065 8 21.4065H15.6812C16.8813 21.4065 17.9659 20.6913 18.4386 19.5883L20.7574 14.1778C20.9175 13.8043 21 13.4023 21 12.996V12.4065C21 10.7497 19.6569 9.40653 18 9.40653H14.2808L14.4771 8.62115C14.8452 7.14867 14.7858 5.60175 14.3059 4.16184Z" fill="rgba(0, 0, 0, 0.2)" data-darkreader-inline-fill="" style="--darkreader-inline-fill: rgba(0, 0, 0, 0.2);"></path> </g></svg></a>
                <a href="/comment?post_id={{.PostID}}"><svg viewBox="0 0 24 24" fill="none" width="50" height="50"  xmlns="http://www.w3.org/2000/svg" stroke="#a269e0" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: #a46ce1;"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M5.20713 15.7929C4.95238 15.5382 4.58029 15.4401 4.23309 15.5363C3.88589 15.6325 3.61726 15.908 3.52988 16.2575L2.52988 20.2575C2.44468 20.5983 2.54453 20.9587 2.79291 21.2071C3.04129 21.4555 3.40178 21.5554 3.74256 21.4702L7.74256 20.4702C8.09207 20.3828 8.36757 20.1142 8.46374 19.767C8.5599 19.4198 8.46188 19.0477 8.20713 18.7929L5.20713 15.7929Z" fill="rgba(0, 0, 0, 0.2)" data-darkreader-inline-fill="" style="--darkreader-inline-fill: rgba(0, 0, 0, 0.2);"></path> <path d="M12 2.5C6.75329 2.5 2.5 6.75329 2.5 12C2.5 17.2467 6.75329 21.5 12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.75329 17.2467 2.5 12 2.5Z" fill="rgba(0, 0, 0, 0.2)" data-darkreader-inline-fill="" style="--darkreader-inline-fill: rgba(0, 0, 0, 0.2);"></path> <path d="M9 12C9 12.8284 8.32843 13.5 7.5 13.5C6.67157 13.5 6 12.8284 6 12C6 11.1716 6.67157 10.5 7.5 10.5C8.32843 10.5 9 11.1716 9 12Z" fill="rgba(0, 0, 0, 0.2)" data-darkreader-inline-fill="" style="--darkreader-inline-fill: rgba(232, 230, 227, 0.2);"></path> <path d="M13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12Z" fill="rgba(0, 0, 0, 0.2)" data-darkreader-inline-fill="" style="--darkreader-inline-fill: rgba(232, 230, 227, 0.2);"></path> <path d="M18 12C18 12.8284 17.3284 13.5 16.5 13.5C15.6716 13.5 15 12.8284 15 12C15 11.1716 15.6716 10.5 16.5 10.5C17.3284 10.5 18 11.1716 18 12Z" fill="rgba(0, 0, 0, 0.2)" data-darkreader-inline-fill="" style="--darkreader-inline-fill: rgba(232, 230, 227, 0.2);"></path> </g></svg></a>
            </div>
        </div>
        {{end}}
        {{else}}
        <p>No posts available.</p>
        {{end}}

        <button onclick="toggleForm()" class="toggle-button">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="	#5b209a" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: #a269e0;"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path opacity="0.5" d="M12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22Z" fill="#222222" data-darkreader-inline-fill="" style="--darkreader-inline-fill: #222222;"></path> <path d="M12 8.25C12.4142 8.25 12.75 8.58579 12.75 9V11.25H15C15.4142 11.25 15.75 11.5858 15.75 12C15.75 12.4142 15.4142 12.75 15 12.75H12.75L12.75 15C12.75 15.4142 12.4142 15.75 12 15.75C11.5858 15.75 11.25 15.4142 11.25 15V12.75H9C8.58579 12.75 8.25 12.4142 8.25 12C8.25 11.5858 8.58579 11.25 9 11.25H11.25L11.25 9C11.25 8.58579 11.5858 8.25 12 8.25Z" fill="#1C274C" data-darkreader-inline-fill="" style="--darkreader-inline-fill: #222222;"></path> </g></svg>
        </button>

        <form id="postForm" action="/myposts" method="post">
            <label for="text">Text:</label>
            <textarea id="text" name="text" required></textarea><br>
            
            <label for="category">Category:</label>
            <select id="category" name="category" required>
                <option value="Memes">#Memes</option>
                <option value="News">#News</option>
                <option value="Politics">#Politics</option>
                <option value="Sports">#Sports</option>
                <option value="Entertainment">#Entertainment</option>
                <option value="Technology">#Technology</option>
                <option value="Food">#Food</option>
                <option value="Travel">#Travel</option>
                <option value="Fashion">#Fashion</option>
                <option value="Health & Wellness">#Health & Wellness</option>
            </select><br>
            
            <button type="submit"><h1 data-shadow='Buzz' style="font-size: 1.5em; color: transparent; text-shadow: none;" >Buzz</h1></button>
        </form>
    </div>






    <script>
        function toggleForm() {
            var form = document.getElementById("postForm");
            if (form.style.display === "none" || form.style.display === "") {
                form.style.display = "block";
            } else {
                form.style.display = "none";
            }
        }

        var canvas = document.querySelector('canvas'),
            context = canvas.getContext('2d');
        context.globalCompositeOperation = 'lighter';

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        var textStrip = ['诶', '比', '西', '迪', '伊', '吉', '艾', '杰', '开', '哦', '屁', '提', '维'];
        var stripCount = 20, stripX = new Array(), stripY = new Array(), dY = new Array(), stripFontSize = new Array();

        for (var i = 0; i < stripCount; i++) {
            stripX[i] = Math.floor(Math.random()*canvas.width);
            stripY[i] = -100;
            dY[i] = Math.floor(Math.random()*7)+3;
            stripFontSize[i] = Math.floor(Math.random()*16)+8;
        }

        var theColors = ['rgba(206, 251, 228, 0.2)', 'rgba(129, 236, 114, 0.2)', 'rgba(92, 214, 70, 0.2)', 
                 'rgba(84, 209, 60, 0.2)', 'rgba(76, 204, 50, 0.2)', 'rgba(67, 199, 38, 0.2)'];

        function drawStrip(x, y) {
            for (var k = 0; k <= 20; k++) {
                var randChar = textStrip[Math.floor(Math.random()*textStrip.length)];
                if (context.fillText) {
                    switch (k) {
                        case 0:
                            context.fillStyle = theColors[0]; break;
                        case 1:
                            context.fillStyle = theColors[1]; break;
                        case 3:
                            context.fillStyle = theColors[2]; break;
                        case 7:
                            context.fillStyle = theColors[3]; break;
                        case 13:
                            context.fillStyle = theColors[4]; break;
                        case 17:
                            context.fillStyle = theColors[5]; break;
                    }
                    context.fillText(randChar, x, y);
                }
                y -= stripFontSize[k];
            }
        }

        function draw() {
            // clear the canvas and set the properties
            context.clearRect(0, 0, canvas.width, canvas.height);
            context.shadowOffsetX = context.shadowOffsetY = 0;
            context.shadowBlur = 8;
            context.shadowColor = '#94f475';

            for (var j = 0; j < stripCount; j++) {
                context.font = stripFontSize[j]+'px MatrixCode';
                context.textBaseline = 'top';
                context.textAlign = 'center';

                if (stripY[j] > canvas.height) {
                    stripX[j] = Math.floor(Math.random()*canvas.width);
                    stripY[j] = -100;
                    dY[j] = Math.floor(Math.random()*7)+3;
                    stripFontSize[j] = Math.floor(Math.random()*16)+8;
                    drawStrip(stripX[j], stripY[j]);
                } else drawStrip(stripX[j], stripY[j]);

                stripY[j] += dY[j];
            }
            setTimeout(draw, 70);
        }

        draw();

        // Resize the canvas when the window is resized
        window.addEventListener('resize', function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
    </script>
</body>
</html>






